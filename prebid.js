/* prebid.js v0.24.0-pre
Updated : 2017-05-08 */
!(function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)})([(function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(){for(var e=0;e<h.que.length;e++)if(d(h.que[e].called)===U)try{h.que[e].call(),h.que[e].called=!0}catch(n){E.logError("Error processing command :","prebid.js",n)}}function o(e){var n=h._bidsRequested.map((function(e){return e.bids.map((function(e){return e.placementCode}))})).reduce(f.flatten).filter(f.uniques);return E.contains(n,e)?!0:(E.logError('The "'+e+'" placement is not defined.'),void 0)}function a(){h._bidsRequested=[],h._bidsReceived=h._bidsReceived.filter((function(e){return!h._adUnitCodes.includes(e.adUnitCode)}))}function s(e,n,t){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=n,e.defaultView.frameElement.height=t)}var u=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=t(1),f=t(2),l=t(4);t(9);var p=t(57),g=t(58),m=t(59),b=t(60),v=t(61),h=c.getGlobal(),y=t(3),E=t(2),I=t(62),T=t(5),S=t(63),A=t(8),_=t(64),O=t(65),w="function",U="undefined",C="object",j=y.EVENTS.BID_WON,R=y.EVENTS.SET_TARGETING,B=!1,N=[],P={bidWon:o};h._bidsRequested=[],h._bidsReceived=[],h._adUnitCodes=[],h._winningBids=[],h._adsReceived=[],h._sendAllBids=!1,h.bidderSettings=h.bidderSettings||{},h.bidderTimeout=h.bidderTimeout||3e3,h.cbTimeout=h.cbTimeout||200,h.timeoutBuffer=200,h.logging=h.logging||!1,h.publisherDomain=h.publisherDomain||window.location.origin,h.libLoaded=!0,h.version="v0.24.0-pre",E.logInfo("Prebid.js v0.24.0-pre loaded"),h.adUnits=h.adUnits||[],h.cookieSyncDelay=h.cookieSyncDelay||100,h.que.push=function(e){if(("undefined"==typeof e?"undefined":d(e))===w)try{e.call()}catch(n){E.logError("Error processing command :"+n.message)}else E.logError("Commands written into pbjs.que.push must wrapped in a function")},h.getAdserverTargetingForAdUnitCodeStr=function(e){if(E.logInfo("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var n=h.getAdserverTargetingForAdUnitCode(e);return E.transformAdServerTargetingObj(n)}E.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},h.getAdserverTargetingForAdUnitCode=function(e){return h.getAdserverTargeting(e)[e]},h.getAdserverTargeting=function(e){return E.logInfo("Invoking pbjs.getAdserverTargeting",arguments),O.getAllTargeting(e).map((function(e){return r({},Object.keys(e)[0],e[Object.keys(e)[0]].map((function(e){return r({},Object.keys(e)[0],e[Object.keys(e)[0]].join(", "))})).reduce((function(e,n){return u(n,e)}),{}))})).reduce((function(e,n){var t=Object.keys(n)[0];return e[t]=u({},e[t],n[t]),e}),{})},h.getBidResponses=function(){E.logInfo("Invoking pbjs.getBidResponses",arguments);var e=h._bidsReceived.filter(f.adUnitsFilter.bind(this,h._adUnitCodes)),n=e&&e.length&&e[e.length-1].requestId;return e.map((function(e){return e.adUnitCode})).filter(f.uniques).map((function(t){return e.filter((function(e){return e.requestId===n&&e.adUnitCode===t}))})).filter((function(e){return e&&e[0]&&e[0].adUnitCode})).map((function(e){return r({},e[0].adUnitCode,{bids:e})})).reduce((function(e,n){return u(e,n)}),{})},h.getBidResponsesForAdUnitCode=function(e){var n=h._bidsReceived.filter((function(n){return n.adUnitCode===e}));return{bids:n}},h.setTargetingForGPTAsync=function(){return E.logInfo("Invoking pbjs.setTargetingForGPTAsync",arguments),f.isGptPubadsDefined()?(O.resetPresetTargeting(),O.setTargeting(O.getAllTargeting()),A.emit(R),void 0):(E.logError("window.googletag is not defined on the page"),void 0)},h.setTargetingForAst=function(){return E.logInfo("Invoking pbjs.setTargetingForAn",arguments),O.isApntagDefined()?(O.setTargetingForAst(),A.emit(R),void 0):(E.logError("window.apntag is not defined on the page"),void 0)},h.allBidsAvailable=function(){return E.logInfo("Invoking pbjs.allBidsAvailable",arguments),I.bidsBackAll()},h.renderAd=function(e,n){if(E.logInfo("Invoking pbjs.renderAd",arguments),E.logMessage("Calling renderAd with adId :"+n),e&&n)try{var t=h._bidsReceived.find((function(e){return e.adId===n}));if(t){t.ad=E.replaceAuctionPrice(t.ad,t.cpm),t.url=E.replaceAuctionPrice(t.url,t.cpm),h._winningBids.push(t),A.emit(j,t);var r=t.height,i=t.width,o=t.ad,a=t.mediaType,u=t.adUrl,d=t.renderer;d&&d.url?d.render(t):e===document&&!E.inIframe()||"video"===a?E.logError("Error trying to write ad. Ad render call ad id "+n+" was prevented from writing to the main document."):o?(e.write(o),e.close(),s(e,i,r)):u?(e.write('<IFRAME SRC="'+u+'" FRAMEBORDER="0" SCROLLING="no" MARGINHEIGHT="0" MARGINWIDTH="0" TOPMARGIN="0" LEFTMARGIN="0" ALLOWTRANSPARENCY="true" WIDTH="'+i+'" HEIGHT="'+r+'"></IFRAME>'),e.close(),s(e,i,r)):E.logError("Error trying to write ad. No ad for bid response id: "+n)}else E.logError("Error trying to write ad. Cannot find ad by given id : "+n)}catch(c){E.logError("Error trying to write ad Id :"+n+" to the page:"+c.message)}else E.logError("Error trying to write ad Id :"+n+" to the page. Missing document or adId")},h.removeAdUnit=function(e){if(E.logInfo("Invoking pbjs.removeAdUnit",arguments),e)for(var n=0;n<h.adUnits.length;n++)h.adUnits[n].code===e&&h.adUnits.splice(n,1)},h.clearAuction=function(){B=!1,b.syncCookies(h.cookieSyncDelay),E.logMessage("Prebid auction cleared"),N.length&&N.shift()()},h.requestBids=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.bidsBackHandler,t=e.timeout,r=e.adUnits,i=e.adUnitCodes;A.emit("requestBids");var o=h.cbTimeout=t||h.bidderTimeout;r=r||h.adUnits,E.logInfo("Invoking pbjs.requestBids",arguments),i&&i.length?r=r.filter((function(e){return i.includes(e.code)})):i=r&&r.map((function(e){return e.code}));var s=r.filter(l.videoAdUnit).filter(l.hasNonVideoBidder);if(s.forEach((function(e){E.logError("adUnit "+e.code+" has 'mediaType' set to 'video' but contains a bidder that doesn't support video. No Prebid demand requests will be triggered for this adUnit.");for(var n=0;n<r.length;n++)r[n].code===e.code&&r.splice(n,1)})),B)return N.push((function(){h.requestBids({bidsBackHandler:n,timeout:o,adUnits:r,adUnitCodes:i})})),void 0;if(B=!0,h._adUnitCodes=i,I.externalCallbackReset(),a(),!r||0===r.length)return E.logMessage("No adUnits configured. No bids requested."),("undefined"==typeof n?"undefined":d(n))===w&&I.addOneTimeCallback(n,!1),I.executeCallback(),void 0;var u=!0,c=I.executeCallback.bind(I,u),f=setTimeout(c,o);("undefined"==typeof n?"undefined":d(n))===w&&I.addOneTimeCallback(n,f),T.callBids({adUnits:r,adUnitCodes:i,cbTimeout:o}),0===h._bidsRequested.length&&I.executeCallback()},h.addAdUnits=function(e){E.logInfo("Invoking pbjs.addAdUnits",arguments),E.isArray(e)?(e.forEach((function(e){return e.transactionId=E.generateUUID()})),h.adUnits.push.apply(h.adUnits,e)):("undefined"==typeof e?"undefined":d(e))===C&&(e.transactionId=E.generateUUID(),h.adUnits.push(e))},h.onEvent=function(e,n,t){return E.logInfo("Invoking pbjs.onEvent",arguments),E.isFn(n)?t&&!P[e].call(null,t)?(E.logError('The id provided is not valid for event "'+e+'" and no handler was set.'),void 0):(A.on(e,n,t),void 0):(E.logError('The event handler provided is not a function and was not set on event "'+e+'".'),void 0)},h.offEvent=function(e,n,t){E.logInfo("Invoking pbjs.offEvent",arguments),(!t||P[e].call(null,t))&&A.off(e,n,t)},h.addCallback=function(e,n){E.logInfo("Invoking pbjs.addCallback",arguments);var t=null;return e&&n&&("undefined"==typeof n?"undefined":d(n))===w?(t=E.getUniqueIdentifierStr,I.addCallback(t,n,e),t):(E.logError("error registering callback. Check method signature"),t)},h.removeCallback=function(){return null},h.registerBidAdapter=function(e,n){E.logInfo("Invoking pbjs.registerBidAdapter",arguments);try{T.registerBidAdapter(e(),n)}catch(t){E.logError("Error registering bidder adapter : "+t.message)}},h.registerAnalyticsAdapter=function(e){E.logInfo("Invoking pbjs.registerAnalyticsAdapter",arguments);try{T.registerAnalyticsAdapter(e)}catch(n){E.logError("Error registering analytics adapter : "+n.message)}},h.bidsAvailableForAdapter=function(e){E.logInfo("Invoking pbjs.bidsAvailableForAdapter",arguments),h._bidsRequested.find((function(n){return n.bidderCode===e})).bids.map((function(n){return u(n,S.createBid(1),{bidderCode:e,adUnitCode:n.placementCode})})).map((function(e){return h._bidsReceived.push(e)}))},h.createBid=function(e){return E.logInfo("Invoking pbjs.createBid",arguments),S.createBid(e)},h.addBidResponse=function(e,n){E.logInfo("Invoking pbjs.addBidResponse",arguments),I.addBidResponse(e,n)},h.loadScript=function(e,n,t){E.logInfo("Invoking pbjs.loadScript",arguments),v.loadScript(e,n,t)},h.enableAnalytics=function(e){e&&!E.isEmpty(e)?(E.logInfo("Invoking pbjs.enableAnalytics for: ",e),T.enableAnalytics(e)):E.logError("pbjs.enableAnalytics should be called with option {}")},h.aliasBidder=function(e,n){E.logInfo("Invoking pbjs.aliasBidder",arguments),e&&n?T.aliasBidAdapter(e,n):E.logError("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},h.setPriceGranularity=function(e){if(E.logInfo("Invoking pbjs.setPriceGranularity",arguments),!e)return E.logError("Prebid Error: no value passed to `setPriceGranularity()`"),void 0;if("string"==typeof e)I.setPriceGranularity(e);else if("object"===("undefined"==typeof e?"undefined":d(e))){if(!g.isValidePriceConfig(e))return E.logError("Invalid custom price value passed to `setPriceGranularity()`"),void 0;I.setCustomPriceBucket(e),I.setPriceGranularity(y.GRANULARITY_OPTIONS.CUSTOM),E.logMessage("Using custom price granularity")}},h.enableSendAllBids=function(){h._sendAllBids=!0},h.getAllWinningBids=function(){return h._winningBids},h.buildMasterVideoTagFromAdserverTag=function(e,n){E.logInfo("Invoking pbjs.buildMasterVideoTagFromAdserverTag",arguments);var t=p.parse(e);if(0===h._bidsReceived.length)return e;var r="";if("dfp"!==n.adserver.toLowerCase())return E.logError("Only DFP adserver is supported"),void 0;var i=_.dfpAdserver(n,t);return i.verifyAdserverTag()||E.logError("Invalid adserverTag, required google params are missing in query string"),i.appendQueryParams(),r=p.format(i.urlComponents)},h.setBidderSequence=function(e){e===y.ORDER.RANDOM&&T.setBidderSequence(y.ORDER.RANDOM)},h.getHighestCpmBids=function(e){return O.getWinningBids(e)},h.setS2SConfig=function(e){if(!E.contains(Object.keys(e),"accountId"))return E.logError("accountId missing in Server to Server config"),void 0;if(!E.contains(Object.keys(e),"bidders"))return E.logError("bidders missing in Server to Server config"),void 0;var n=u({enabled:!1,endpoint:y.S2S.DEFAULT_ENDPOINT,timeout:1e3,maxBids:1,adapter:"prebidServer"},e);T.setS2SConfig(n)},h.que.push((function(){return m.listenMessagesFromCreative()})),i()}),(function(e,n){"use strict";function t(){return window.pbjs}Object.defineProperty(n,"__esModule",{value:!0}),n.getGlobal=t,window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[]}),(function(e,n,t){"use strict";function r(){return P()+Math.random().toString(16).substr(2)}function i(){return window.console&&window.console.log}function o(e,n,t){return t.indexOf(e)===n}function a(e,n){return e.concat(n)}function s(e){return pbjs._bidsRequested.map((function(n){return n.bids.find((function(n){return n.bidId===e}))})).find((function(e){return e}))}function u(e){return Object.keys(e)}function d(e,n){return e[n]}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits;return e.map((function(e){return e.bids.map((function(e){return e.bidder})).reduce(a,[])})).reduce(a).filter(o)}function f(){return window.googletag&&n.isFn(window.googletag.pubads)&&n.isFn(window.googletag.pubads().getSlots)?!0:void 0}function l(e,n){return e.cpm===n.cpm?e.timeToRespond>n.timeToRespond?n:e:e.cpm<n.cpm?n:e}function p(e){for(var n=e.length;n>0;){var t=Math.floor(Math.random()*n);n--;var r=e[n];e[n]=e[t],e[t]=r}return e}function g(e,n){return e.includes(n&&n.placementCode||n&&n.adUnitCode)}function m(e){return e.defaultView&&e.defaultView.frameElement&&"srcdoc"in e.defaultView.frameElement&&!/firefox/i.test(navigator.userAgent)}function b(e){return JSON.parse(JSON.stringify(e))}function v(){try{return window.self!==window.top}catch(e){return!0}}function h(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function y(e,n){return e?e.replace(/\$\{AUCTION_PRICE\}/g,n):void 0}function E(e,n){return pbjs._bidsRequested.find((function(t){return t.bids.filter((function(t){return t.bidder===e&&t.placementCode===n})).length>0}))||{start:null,requestId:null}}Object.defineProperty(n,"__esModule",{value:!0});var I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.uniques=o,n.flatten=a,n.getBidRequest=s,n.getKeys=u,n.getValue=d,n.getBidderCodes=c,n.isGptPubadsDefined=f,n.getHighestCpm=l,n.shuffle=p,n.adUnitsFilter=g,n.isSrcdocSupported=m,n.cloneJson=b,n.inIframe=v,n.isSafariBrowser=h,n.replaceAuctionPrice=y,n.getBidderRequest=E;var T=t(3),S="object",A="string",_="number",O=!1,w="Array",U="String",C="Function",j="Number",R=Object.prototype.toString,B=null;try{B=console.info.bind(window.console)}catch(N){}n.replaceTokenInString=function(e,n,t){return this._each(n,(function(n,r){n=void 0===n?"":n;var i=t+r.toUpperCase()+t,o=new RegExp(i,"g");e=e.replace(o,n)})),e};var P=(function(){var e=0;return function(){return e++,e}})();n.getUniqueIdentifierStr=r,n.generateUUID=function G(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,G)},n.getBidIdParameter=function(e,n){return n&&n[e]?n[e]:""},n.tryAppendQueryString=function(e,n,t){return t?e+=n+"="+encodeURIComponent(t)+"&":e},n.parseQueryStringParameters=function(e){var n="";for(var t in e)e.hasOwnProperty(t)&&(n+=t+"="+encodeURIComponent(e[t])+"&");return n},n.transformAdServerTargetingObj=function(e){return e&&Object.getOwnPropertyNames(e).length>0?u(e).map((function(n){return n+"="+encodeURIComponent(d(e,n))})).join("&"):""},n.parseSizesInput=function(e){var n=[];if(("undefined"==typeof e?"undefined":I(e))===A){var t=e.split(","),r=/^(\d)+x(\d)+$/i;if(t)for(var i in t)q(t,i)&&t[i].match(r)&&n.push(t[i])}else if(("undefined"==typeof e?"undefined":I(e))===S){var o=e.length;if(o>0)if(2===o&&I(e[0])===_&&I(e[1])===_)n.push(this.parseGPTSingleSizeArray(e));else for(var a=0;o>a;a++)n.push(this.parseGPTSingleSizeArray(e[a]))}return n},n.parseGPTSingleSizeArray=function(e){return!this.isArray(e)||2!==e.length||isNaN(e[0])||isNaN(e[1])?void 0:e[0]+"x"+e[1]},n.getTopWindowLocation=function(){var e=void 0;try{e=window.top.location}catch(n){e=window.location}return e},n.getTopWindowUrl=function(){var e=void 0;try{e=this.getTopWindowLocation().href}catch(n){e=""}return e},n.logWarn=function(e){x()&&console.warn&&console.warn("WARNING: "+e)},n.logInfo=function(e,n){x()&&i()&&B&&(n&&0!==n.length||(n=""),B("INFO: "+e+(""===n?"":" : params : "),n))},n.logMessage=function(e){x()&&i()&&console.log("MESSAGE: "+e)},n.hasConsoleLogger=i;var k=(function(e){return e?window.console.error?"error":"log":""})(i()),x=function(){return pbjs.logging===!1&&O===!1&&(pbjs.logging="TRUE"===D(T.DEBUG_MODE).toUpperCase(),O=!0),!!pbjs.logging};n.debugTurnedOn=x,n.logError=function(e,n,t){var r=n||"ERROR";x()&&i()&&console[k](console,r+": "+e,t||"")},n.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.id=r(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e};var D=function(e){var n="[\\?&]"+e+"=([^&#]*)",t=new RegExp(n),r=t.exec(window.location.search);return null===r?"":decodeURIComponent(r[1].replace(/\+/g," "))};n.hasValidBidRequest=function(e,n,t){function r(e,t){t===n[o]&&(i=!0)}for(var i=!1,o=0;o<n.length;o++)if(i=!1,this._each(e,r),!i)return this.logError("Params are missing for bid request. One of these required paramaters are missing: "+n,t),!1;return!0},n.addEventHandler=function(e,n,t){e.addEventListener?e.addEventListener(n,t,!0):e.attachEvent&&e.attachEvent("on"+n,t)},n.isA=function(e,n){return R.call(e)==="[object "+n+"]"},n.isFn=function(e){return this.isA(e,C)},n.isStr=function(e){return this.isA(e,U)},n.isArray=function(e){return this.isA(e,w)},n.isNumber=function(e){return this.isA(e,j)},n.isEmpty=function(e){if(!e)return!0;if(this.isArray(e)||this.isStr(e))return!(e.length>0);for(var n in e)if(hasOwnProperty.call(e,n))return!1;return!0},n.isEmptyStr=function(e){return this.isStr(e)&&(!e||0===e.length)},n._each=function(e,n){if(!this.isEmpty(e)){if(this.isFn(e.forEach))return e.forEach(n,this);var t=0,r=e.length;if(r>0)for(;r>t;t++)n(e[t],t,e);else for(t in e)hasOwnProperty.call(e,t)&&n.call(this,e[t],t)}},n.contains=function(e,n){if(this.isEmpty(e))return!1;if(this.isFn(e.indexOf))return-1!==e.indexOf(n);for(var t=e.length;t--;)if(e[t]===n)return!0;return!1},n.indexOf=(function(){return Array.prototype.indexOf?Array.prototype.indexOf:void 0})(),n._map=function(e,n){if(this.isEmpty(e))return[];if(this.isFn(e.map))return e.map(n);var t=[];return this._each(e,(function(r,i){t.push(n(r,i,e))})),t};var q=function(e,n){return e.hasOwnProperty?e.hasOwnProperty(n):"undefined"!=typeof e[n]&&e.constructor.prototype[n]!==e[n]},M=function(e){var n=document.getElementsByTagName("head");try{n=n.length?n:document.getElementsByTagName("body"),n.length&&(n=n[0],n.insertBefore(e,n.firstChild))}catch(t){}};n.insertPixel=function(e){var n=new Image;n.id=this.getUniqueIdentifierStr(),n.src=e,n.height=0,n.width=0,n.style.display="none",n.onload=function(){try{this.parentNode.removeChild(this)}catch(e){}},M(n)},n.insertCookieSyncIframe=function(e,n){var t=this.createTrackPixelIframeHtml(e,n),r=document.createElement("div");r.innerHTML=t;var i=r.firstChild;M(i)},n.createTrackPixelHtml=function(e){if(!e)return"";var n=encodeURI(e),t='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return t+='<img src="'+n+'"></div>'},n.createTrackPixelIframeHtml=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!0;return e?(n&&(e=encodeURI(e)),'<iframe frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" width="0" hspace="0" vspace="0" height="0" style="height:0p;width:0p;display:none;" scrolling="no" src="'+e+'"></iframe>'):""},n.getIframeDocument=function(e){if(e){var n=void 0;try{n=e.contentWindow?e.contentWindow.document:e.contentDocument.document?e.contentDocument.document:e.contentDocument}catch(t){this.logError("Cannot get iframe document",t)}return n}},n.getValueString=function(e,n,t){return void 0===n||null===n?t:this.isStr(n)?n:this.isNumber(n)?n.toString():(this.logWarn("Unsuported type for param: "+e+" required type: String"),void 0)}}),(function(e){e.exports={JSON_MAPPING:{PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},REPO_AND_VERSION:"prebid_prebid_0.24.0-pre",DEBUG_MODE:"pbjs_debug",STATUS:{GOOD:1,NO_BID:2},CB:{TYPE:{ALL_BIDS_BACK:"allRequestedBidsBack",AD_UNIT_BIDS_BACK:"adUnitBidsBack",BID_WON:"bidWon",REQUEST_BIDS:"requestBids"}},objectType_function:"function",objectType_undefined:"undefined",objectType_object:"object",objectType_string:"string",objectType_number:"number",EVENTS:{AUCTION_INIT:"auctionInit",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",BID_WON:"bidWon",SET_TARGETING:"setTargeting",REQUEST_BIDS:"requestBids"},EVENT_ID_PATHS:{bidWon:"adUnitCode"},ORDER:{RANDOM:"random"},GRANULARITY_OPTIONS:{LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},TARGETING_KEYS:["hb_bidder","hb_adid","hb_pb","hb_size","hb_deal"],S2S:{DEFAULT_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/auction"}}}),(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hasNonVideoBidder=n.videoAdUnit=void 0;{var r=t(5),i=(n.videoAdUnit=function(e){return"video"===e.mediaType},function(e){return!r.videoAdapters.includes(e.bidder)});n.hasNonVideoBidder=function(e){return e.bids.filter(i).length}}}),(function(e,n,t){"use strict";function r(e){var n=e.bidderCode,t=e.requestId,r=e.bidderRequestId,i=e.adUnits;return i.map((function(e){return e.bids.filter((function(e){return e.bidder===n})).map((function(n){var i=e.sizes;if(e.sizeMapping){var o=u.mapSizes(e);if(""===o)return"";i=o}return a({},n,{placementCode:e.code,mediaType:e.mediaType,transactionId:e.transactionId,sizes:i,bidId:n.bid_id||c.getUniqueIdentifierStr(),bidderRequestId:r,requestId:t})}))})).reduce(s.flatten,[]).filter((function(e){return""!==e}))}function i(e){var n=[],t=c.parseSizesInput(e.sizes);return t.forEach((function(e){var t=e.split("x"),r={w:parseInt(t[0]),h:parseInt(t[1])};n.push(r)})),n}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s=t(2),u=t(6),d=t(7),c=t(2),f=t(3),l=t(8),p={};n.bidderRegistry=p;var g={},m={},b=null;n.callBids=function(e){var n=e.adUnits,t=e.cbTimeout,o=c.generateUUID(),a=Date.now(),d={timestamp:a,requestId:o};l.emit(f.EVENTS.AUCTION_INIT,d);var m=s.getBidderCodes(n);if(b===f.ORDER.RANDOM&&(m=s.shuffle(m)),g.enabled){var v=g.bidders;m=m.filter((function(e){return!v.includes(e)}));var h=c.cloneJson(n);h.forEach((function(e){e.sizeMapping&&(e.sizes=u.mapSizes(e),delete e.sizeMapping),e.sizes=i(e),e.bids=e.bids.filter((function(e){return v.includes(e.bidder)})).map((function(e){return e.bid_id=c.getUniqueIdentifierStr(),e}))}));var y=c.generateUUID();v.forEach((function(e){var n=c.getUniqueIdentifierStr(),t={bidderCode:e,requestId:o,bidderRequestId:n,tid:y,bids:r({bidderCode:e,requestId:o,bidderRequestId:n,adUnits:h}),start:(new Date).getTime(),auctionStart:a,timeout:g.timeout};pbjs._bidsRequested.push(t)}));var E={tid:y,ad_units:h},I=p[g.adapter];c.logMessage("CALLING S2S HEADER BIDDERS ==== "+v.join(",")),I.setConfig(g),I.callBids(E)}m.forEach((function(e){var i=p[e];if(i){var s=c.getUniqueIdentifierStr(),u={bidderCode:e,requestId:o,bidderRequestId:s,bids:r({bidderCode:e,requestId:o,bidderRequestId:s,adUnits:n}),start:(new Date).getTime(),auctionStart:a,timeout:t};u.bids&&0!==u.bids.length&&(c.logMessage("CALLING BIDDER ======= "+e),pbjs._bidsRequested.push(u),l.emit(f.EVENTS.BID_REQUESTED,u),i.callBids(u))}else c.logError("Adapter trying to be called which does not exist: "+e+" adaptermanager.callBids")}))},n.registerBidAdapter=function(e,n){e&&n?o(e.callBids)===f.objectType_function?p[n]=e:c.logError("Bidder adaptor error for bidder code: "+n+"bidder must implement a callBids() function"):c.logError("bidAdaptor or bidderCode not specified")},n.aliasBidAdapter=function(e,n){var t=p[n];if(("undefined"==typeof t?"undefined":o(t))===f.objectType_undefined){var r=p[e];if(("undefined"==typeof r?"undefined":o(r))===f.objectType_undefined)c.logError('bidderCode "'+e+'" is not an existing bidder.',"adaptermanager.aliasBidAdapter");else try{var i=null;r instanceof d.BaseAdapter?c.logError(e+" bidder does not currently support aliasing.","adaptermanager.aliasBidAdapter"):(i=r.createNew(),i.setBidderCode(n),this.registerBidAdapter(i,n))}catch(a){c.logError(e+" bidder does not currently support aliasing.","adaptermanager.aliasBidAdapter")}}else c.logMessage('alias name "'+n+'" has been already specified.')},n.registerAnalyticsAdapter=function(e){var n=e.adapter,t=e.code;n&&t?o(n.enableAnalytics)===f.objectType_function?(n.code=t,m[t]=n):c.logError('Prebid Error: Analytics adaptor error for analytics "'+t+'"\n        analytics adapter must implement an enableAnalytics() function'):c.logError("Prebid Error: analyticsAdapter or analyticsCode not specified")},n.enableAnalytics=function(e){c.isArray(e)||(e=[e]),c._each(e,(function(e){var n=m[e.provider];n?n.enableAnalytics(e):c.logError("Prebid Error: no analytics adapter found in registry for\n        "+e.provider+".")}))},n.setBidderSequence=function(e){b=e},n.setS2SConfig=function(e){g=e},n.videoAdapters=[]}),(function(e,n,t){"use strict";function r(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n["default"]=e,n}function i(e){if(!o(e.sizeMapping))return e.sizes;var n=a();if(!n){var t=e.sizeMapping.reduce((function(e,n){return e.minWidth<n.minWidth?n:e}));return t.sizes&&t.sizes.length?t.sizes:e.sizes}var r="",i=e.sizeMapping.find((function(e){return n>e.minWidth}));return i&&i.sizes&&i.sizes.length?(r=i.sizes,d.logMessage("AdUnit : "+e.code+" resized based on device width to : "+r)):d.logMessage("AdUnit : "+e.code+" not mapped to any sizes for device width. This request will be suppressed."),r}function o(e){return d.isArray(e)&&e.length>0?!0:(d.logInfo("No size mapping defined"),!1)}function a(e){var n=e||c||window,t=n.document;return n.innerWidth?n.innerWidth:t.body.clientWidth?t.body.clientWidth:t.documentElement.clientWidth?t.documentElement.clientWidth:0}function s(e){c=e}Object.defineProperty(n,"__esModule",{value:!0}),n.setWindow=n.getScreenWidth=n.mapSizes=void 0;var u=t(2),d=r(u),c=void 0;n.mapSizes=i,n.getScreenWidth=a,n.setWindow=s}),(function(e,n){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});{var r=(function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}})();n.BaseAdapter=(function(){function e(n){t(this,e),this.code=n}return r(e,[{key:"getCode",value:function(){return this.code}},{key:"setCode",value:function(e){this.code=e}},{key:"callBids",value:function(){throw"adapter implementation must override callBids method"}}]),e})()}}),(function(e,n,t){"use strict";var r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=t(2),o=t(3),a=Array.prototype.slice,s=Array.prototype.push,u=i._map(o.EVENTS,(function(e){return e})),d=o.EVENT_ID_PATHS,c=[];e.exports=(function(){function e(e,n){i.logMessage("Emitting event for: "+e);var r=n[0]||{},o=d[e],a=r[o],u=t[e]||{que:[]},f=i._map(u,(function(e,n){return n})),l=[];c.push({eventType:e,args:r,id:a}),a&&i.contains(f,a)&&s.apply(l,u[a].que),s.apply(l,u.que),i._each(l,(function(e){if(e)try{e.apply(null,n)}catch(t){i.logError("Error executing handler:","events.js",t)}}))}function n(e){return i.contains(u,e)}var t={},o={};return o.on=function(e,r,o){if(n(e)){var a=t[e]||{que:[]};o?(a[o]=a[o]||{que:[]},a[o].que.push(r)):a.que.push(r),t[e]=a}else i.logError("Wrong event name : "+e+" Valid event names :"+u)},o.emit=function(n){var t=a.call(arguments,1);e(n,t)},o.off=function(e,n,r){var o=t[e];i.isEmpty(o)||i.isEmpty(o.que)&&i.isEmpty(o[r])||r&&(i.isEmpty(o[r])||i.isEmpty(o[r].que))||(r?i._each(o[r].que,(function(e){var t=o[r].que;e===n&&t.splice(i.indexOf.call(t,e),1)})):i._each(o.que,(function(e){var t=o.que;e===n&&t.splice(i.indexOf.call(t,e),1)})),t[e]=o)},o.get=function(){return t},o.getEvents=function(){var e=[];return i._each(c,(function(n){var t=r({},n);e.push(t)})),e},o})()}),(function(e,n,t){"use strict";t(10),t(43),t(48),Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}}),(function(e,n,t){t(11),e.exports=t(14).Array.find}),(function(e,n,t){"use strict";var r=t(12),i=t(30)(5),o="find",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),t(42)(o)}),(function(e,n,t){var r=t(13),i=t(14),o=t(15),a=t(25),s=t(28),u="prototype",d=function(e,n,t){var c,f,l,p,g=e&d.F,m=e&d.G,b=e&d.S,v=e&d.P,h=e&d.B,y=m?r:b?r[n]||(r[n]={}):(r[n]||{})[u],E=m?i:i[n]||(i[n]={}),I=E[u]||(E[u]={});m&&(t=n);for(c in t)f=!g&&y&&void 0!==y[c],l=(f?y:t)[c],p=h&&f?s(l,r):v&&"function"==typeof l?s(Function.call,l):l,y&&a(y,c,l,e&d.U),E[c]!=l&&o(E,c,p),v&&I[c]!=l&&(I[c]=l)};r.core=i,d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,e.exports=d}),(function(e){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)}),(function(e){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)}),(function(e,n,t){var r=t(16),i=t(24);e.exports=t(20)?function(e,n,t){return r.f(e,n,i(1,t))}:function(e,n,t){return e[n]=t,e}}),(function(e,n,t){var r=t(17),i=t(19),o=t(23),a=Object.defineProperty;n.f=t(20)?Object.defineProperty:function(e,n,t){if(r(e),n=o(n,!0),r(t),i)try{return a(e,n,t)}catch(s){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(e[n]=t.value),e}}),(function(e,n,t){var r=t(18);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}}),(function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}}),(function(e,n,t){e.exports=!t(20)&&!t(21)((function(){return 7!=Object.defineProperty(t(22)("div"),"a",{get:function(){return 7}}).a}))}),(function(e,n,t){e.exports=!t(21)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))}),(function(e){e.exports=function(e){try{return!!e()}catch(n){return!0}}}),(function(e,n,t){var r=t(18),i=t(13).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}}),(function(e,n,t){var r=t(18);e.exports=function(e,n){if(!r(e))return e;var t,i;if(n&&"function"==typeof(t=e.toString)&&!r(i=t.call(e)))return i;if("function"==typeof(t=e.valueOf)&&!r(i=t.call(e)))return i;if(!n&&"function"==typeof(t=e.toString)&&!r(i=t.call(e)))return i;throw TypeError("Can't convert object to primitive value")}}),(function(e){e.exports=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}}}),(function(e,n,t){var r=t(13),i=t(15),o=t(26),a=t(27)("src"),s="toString",u=Function[s],d=(""+u).split(s);t(14).inspectSource=function(e){return u.call(e)},(e.exports=function(e,n,t,s){var u="function"==typeof t;u&&(o(t,"name")||i(t,"name",n)),e[n]!==t&&(u&&(o(t,a)||i(t,a,e[n]?""+e[n]:d.join(String(n)))),e===r?e[n]=t:s?e[n]?e[n]=t:i(e,n,t):(delete e[n],i(e,n,t)))})(Function.prototype,s,(function(){return"function"==typeof this&&this[a]||u.call(this)}))}),(function(e){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}}),(function(e){var n=0,t=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+t).toString(36))}}),(function(e,n,t){var r=t(29);e.exports=function(e,n,t){if(r(e),void 0===n)return e;switch(t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,r){return e.call(n,t,r)};case 3:return function(t,r,i){return e.call(n,t,r,i)}}return function(){return e.apply(n,arguments)}}}),(function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}}),(function(e,n,t){var r=t(28),i=t(31),o=t(33),a=t(35),s=t(37);e.exports=function(e,n){var t=1==e,u=2==e,d=3==e,c=4==e,f=6==e,l=5==e||f,p=n||s;return function(n,s,g){for(var m,b,v=o(n),h=i(v),y=r(s,g,3),E=a(h.length),I=0,T=t?p(n,E):u?p(n,0):void 0;E>I;I++)if((l||I in h)&&(m=h[I],b=y(m,I,v),e))if(t)T[I]=b;
else if(b)switch(e){case 3:return!0;case 5:return m;case 6:return I;case 2:T.push(m)}else if(c)return!1;return f?-1:d||c?c:T}}}),(function(e,n,t){var r=t(32);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}}),(function(e){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}}),(function(e,n,t){var r=t(34);e.exports=function(e){return Object(r(e))}}),(function(e){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}}),(function(e,n,t){var r=t(36),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}}),(function(e){var n=Math.ceil,t=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?t:n)(e)}}),(function(e,n,t){var r=t(38);e.exports=function(e,n){return new(r(e))(n)}}),(function(e,n,t){var r=t(18),i=t(39),o=t(40)("species");e.exports=function(e){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)||(n=void 0),r(n)&&(n=n[o],null===n&&(n=void 0))),void 0===n?Array:n}}),(function(e,n,t){var r=t(32);e.exports=Array.isArray||function(e){return"Array"==r(e)}}),(function(e,n,t){var r=t(41)("wks"),i=t(27),o=t(13).Symbol,a="function"==typeof o,s=e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))};s.store=r}),(function(e,n,t){var r=t(13),i="__core-js_shared__",o=r[i]||(r[i]={});e.exports=function(e){return o[e]||(o[e]={})}}),(function(e,n,t){var r=t(40)("unscopables"),i=Array.prototype;void 0==i[r]&&t(15)(i,r,{}),e.exports=function(e){i[r][e]=!0}}),(function(e,n,t){t(44),e.exports=t(14).Array.includes}),(function(e,n,t){"use strict";var r=t(12),i=t(45)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),t(42)("includes")}),(function(e,n,t){var r=t(46),i=t(35),o=t(47);e.exports=function(e){return function(n,t,a){var s,u=r(n),d=i(u.length),c=o(a,d);if(e&&t!=t){for(;d>c;)if(s=u[c++],s!=s)return!0}else for(;d>c;c++)if((e||c in u)&&u[c]===t)return e||c||0;return!e&&-1}}}),(function(e,n,t){var r=t(31),i=t(34);e.exports=function(e){return r(i(e))}}),(function(e,n,t){var r=t(36),i=Math.max,o=Math.min;e.exports=function(e,n){return e=r(e),0>e?i(e+n,0):o(e,n)}}),(function(e,n,t){t(49),e.exports=t(14).Object.assign}),(function(e,n,t){var r=t(12);r(r.S+r.F,"Object",{assign:t(50)})}),(function(e,n,t){"use strict";var r=t(51),i=t(55),o=t(56),a=t(33),s=t(31),u=Object.assign;e.exports=!u||t(21)((function(){var e={},n={},t=Symbol(),r="abcdefghijklmnopqrst";return e[t]=7,r.split("").forEach((function(e){n[e]=e})),7!=u({},e)[t]||Object.keys(u({},n)).join("")!=r}))?function(e){for(var n=a(e),t=arguments.length,u=1,d=i.f,c=o.f;t>u;)for(var f,l=s(arguments[u++]),p=d?r(l).concat(d(l)):r(l),g=p.length,m=0;g>m;)c.call(l,f=p[m++])&&(n[f]=l[f]);return n}:u}),(function(e,n,t){var r=t(52),i=t(54);e.exports=Object.keys||function(e){return r(e,i)}}),(function(e,n,t){var r=t(26),i=t(46),o=t(45)(!1),a=t(53)("IE_PROTO");e.exports=function(e,n){var t,s=i(e),u=0,d=[];for(t in s)t!=a&&r(s,t)&&d.push(t);for(;n.length>u;)r(s,t=n[u++])&&(~o(d,t)||d.push(t));return d}}),(function(e,n,t){var r=t(41)("keys"),i=t(27);e.exports=function(e){return r[e]||(r[e]=i(e))}}),(function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")}),(function(e,n){n.f=Object.getOwnPropertySymbols}),(function(e,n){n.f={}.propertyIsEnumerable}),(function(e,n){"use strict";function t(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,n){var t=n.split("="),r=a(t,2),i=r[0],o=r[1];return/\[\]$/.test(i)?(i=i.replace("[]",""),e[i]=e[i]||[],e[i].push(o)):e[i]=o||"",e}),{}):{}}function r(e){return Object.keys(e).map((function(n){return Array.isArray(e[n])?e[n].map((function(e){return n+"[]="+e})).join("&"):n+"="+e[n]})).join("&")}function i(e){var n=document.createElement("a");return n.href=decodeURIComponent(e),{protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:t(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host}}function o(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":"+e.port:""))+(e.pathname||"")+(e.search?"?"+r(e.search||""):"")+(e.hash?"#"+e.hash:"")}Object.defineProperty(n,"__esModule",{value:!0});var a=(function(){function e(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return t}return function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return e(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})();n.parseQS=t,n.formatQS=r,n.parse=i,n.format=o}),(function(e,n){"use strict";function t(e,n){var t=0;return t=parseFloat(e),isNaN(t)&&(t=""),{low:""===t?"":r(e,s),med:""===t?"":r(e,u),high:""===t?"":r(e,d),auto:""===t?"":r(e,f),dense:""===t?"":r(e,c),custom:""===t?"":r(e,n)}}function r(e,n){var t="";if(!i(n))return t;var r=n.buckets.reduce((function(e,n){return e.max>n.max?e:n}),{max:0}),s=n.buckets.find((function(n){if(e>r.max){var i=n.precision||a;t=n.max.toFixed(i)}else if(e<=n.max&&e>=n.min)return n}));return s&&(t=o(e,s.increment,s.precision)),t}function i(e){if(!e||!e.buckets||!Array.isArray(e.buckets))return!1;var n=!0;return e.buckets.forEach((function(e){"undefined"!=typeof e.min&&e.max&&e.increment||(n=!1)})),n}function o(e,n,t){t||(t=a);var r=1/n;return(Math.floor(e*r)/r).toFixed(t)}Object.defineProperty(n,"__esModule",{value:!0});var a=2,s={buckets:[{min:0,max:5,increment:.5}]},u={buckets:[{min:0,max:20,increment:.1}]},d={buckets:[{min:0,max:20,increment:.01}]},c={buckets:[{min:0,max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}]},f={buckets:[{min:0,max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}]};n.getPriceBucketString=t,n.isValidePriceConfig=i}),(function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){addEventListener("message",o,!1)}function o(e){var n=e.message?"message":"data",t={};try{t=JSON.parse(e[n])}catch(r){return}if(t.adId){var i=pbjs._bidsReceived.find((function(e){return e.adId===t.adId}));"Prebid Request"===t.message&&(a(i,t.adServerDomain,e.source),d["default"].emit(f,i))}}function a(e,n,t){var r=e.adId,i=e.ad,o=e.adUrl,a=e.width,u=e.height;r&&(s(e),t.postMessage(JSON.stringify({message:"Prebid Response",ad:i,adUrl:o,adId:r,width:a,height:u}),n))}function s(e){var n=e.adUnitCode,t=e.width,r=e.height,i=document.getElementById(window.googletag.pubads().getSlots().find((function(e){return e.getAdUnitPath()===n||e.getSlotElementId()===n})).getSlotElementId()).querySelector("iframe");i.width=""+t,i.height=""+r}Object.defineProperty(n,"__esModule",{value:!0}),n.listenMessagesFromCreative=i;var u=t(8),d=r(u),c=t(3),f=c.EVENTS.BID_WON}),(function(e,n,t){"use strict";function r(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n["default"]=e,n}function i(){f.forEach((function(e){d.logMessage("Invoking cookie sync for bidder: "+e.bidder),"iframe"===e.type?d.insertCookieSyncIframe(e.url,!1):d.insertPixel(e.url)})),f.length=0}function o(e){for(var n=0;n<document.links.length;n++){var t=document.links[n];t.href=e+encodeURIComponent(t.href)}}function a(e){"true"!==document.cookie.replace(/(?:(?:^|.*;\s*)pbsCookiePersistFooter\s*\=\s*([^;]*).*$)|^.*$/,"$1")&&(document.body.appendChild(s(e)),document.cookie="pbsCookiePersistFooter=true; expires=Fri, 31 Dec 9999 23:59:59 GMT")}function s(e){var n=document.createElement("div");n.style.background="#D3D3D3",n.style.color="#555",n.style.boxShadow="0 -1px 2px rgba(0, 0, 0, 0.2)",n.style.fontFamily="sans-serif",n.style.lineHeight="1.5",n.style.position="fixed",n.style.bottom="0",n.style.left="0",n.style.right="0",n.style.width="100%",n.style.padding="1em 0",n.style.zindex="1000";var t=document.createElement("p");return t.style.margin="0 2em",t.innerHTML=e,n.appendChild(t),n}var u=t(2),d=r(u),c=n,f=[];c.queueSync=function(e){var n=e.bidder,t=e.url,r=e.type;f.push({bidder:n,url:t,type:r})},c.syncCookies=function(e){e?setTimeout(i,e):i()},c.persist=function(e,n){d.isSafariBrowser()&&(o(e),a(n))}}),(function(e,n,t){"use strict";function r(e,n){var t=document.createElement("script");t.type="text/javascript",t.async=!0,n&&"function"==typeof n&&(t.readyState?t.onreadystatechange=function(){("loaded"===t.readyState||"complete"===t.readyState)&&(t.onreadystatechange=null,n())}:t.onload=function(){n()}),t.src=e;var r=document.getElementsByTagName("head");r=r.length?r:document.getElementsByTagName("body"),r.length&&(r=r[0],r.insertBefore(t,r.firstChild))}var i=t(2),o={};n.loadScript=function(e,n,t){return e?(t?o[e]?n&&"function"==typeof n&&(o[e].loaded?n():o[e].callbacks.push(n)):(o[e]={loaded:!1,callbacks:[]},n&&"function"==typeof n&&o[e].callbacks.push(n),r(e,(function(){o[e].loaded=!0;try{for(var n=0;n<o[e].callbacks.length;n++)o[e].callbacks[n]()}catch(t){i.logError("Error executing callback","adloader.js:loadScript",t)}}))):r(e,n),void 0):(i.logError("Error attempting to request empty URL","adloader.js:loadScript"),void 0)}}),(function(e,n,t){"use strict";function r(){return(new Date).getTime()}function i(e){return e.bidderCode}function o(e){return e.bidder}function a(e){var n=this,t=pbjs._bidsRequested.map((function(t){return t.bids.filter(y.adUnitsFilter.bind(n,pbjs._adUnitCodes)).filter((function(n){return n.placementCode===e}))})).reduce(y.flatten,[]).map((function(e){return"indexExchange"===e.bidder?e.sizes.length:1})).reduce(s,0),r=pbjs._bidsReceived.filter((function(n){return n.adUnitCode===e})).length;return t===r}function s(e,n){return e+n}function u(){var e=pbjs._bidsRequested.map((function(e){return e.bids})).reduce(y.flatten,[]).filter(y.adUnitsFilter.bind(this,pbjs._adUnitCodes)).map((function(e){return"indexExchange"===e.bidder?e.sizes.length:1})).reduce((function(e,n){return e+n}),0),n=pbjs._bidsReceived.filter(y.adUnitsFilter.bind(this,pbjs._adUnitCodes)).length;return e===n}function d(e,n){var t={},r=pbjs.bidderSettings;if(n&&r){var i=m();c(t,i,n)}return e&&n&&r&&r[e]&&r[e][I.JSON_MAPPING.ADSERVER_TARGETING]?(c(t,r[e],n),n.alwaysUseBid=r[e].alwaysUseBid,n.sendStandardTargeting=r[e].sendStandardTargeting):C[e]&&(c(t,C[e],n),n.alwaysUseBid=C[e].alwaysUseBid,n.sendStandardTargeting=C[e].sendStandardTargeting),t}function c(e,n,t){var r=n[I.JSON_MAPPING.ADSERVER_TARGETING];return t.size=t.getSize(),S._each(r,(function(r){var i=r.key,o=r.val;if(e[i]&&S.logWarn("The key: "+i+" is getting ovewritten"),S.isFn(o))try{o=o(t)}catch(a){S.logError("bidmanager","ERROR",a)}("undefined"==typeof n.suppressEmptyKeys||n.suppressEmptyKeys!==!0)&&"hb_deal"!==i||!S.isEmptyStr(o)&&null!==o&&void 0!==o?e[i]=o:S.logInfo("suppressing empty key '"+i+"' from adserver targeting")})),e}function f(e){var n=[e];l(O.byAdUnit,n)}function l(e,n){var t=this;S.isArray(e)&&e.forEach((function(e){var r=n||pbjs._adUnitCodes,i=[pbjs._bidsReceived.filter(y.adUnitsFilter.bind(t,r)).reduce(p,{})];e.apply(pbjs,i)}))}function p(e,n){return e[n.adUnitCode]||(e[n.adUnitCode]={bids:[]}),e[n.adUnitCode].bids.push(n),e}function g(e){var n=e.bidderCode,t=e.cpm;if(n&&pbjs.bidderSettings&&pbjs.bidderSettings[n]&&v(pbjs.bidderSettings[n].bidCpmAdjustment)===_)try{t=pbjs.bidderSettings[n].bidCpmAdjustment.call(null,e.cpm,h({},e))}catch(r){S.logError("Error during bid adjustment","bidmanager.js",r)}t>=0&&(e.cpm=t)}function m(){var e=pbjs.bidderSettings;return e[I.JSON_MAPPING.BD_SETTING_STANDARD]||(e[I.JSON_MAPPING.BD_SETTING_STANDARD]={adserverTargeting:[{key:"hb_bidder",val:function(e){return e.bidderCode}},{key:"hb_adid",val:function(e){return e.adId}},{key:"hb_pb",val:function(e){return w===I.GRANULARITY_OPTIONS.AUTO?e.pbAg:w===I.GRANULARITY_OPTIONS.DENSE?e.pbDg:w===I.GRANULARITY_OPTIONS.LOW?e.pbLg:w===I.GRANULARITY_OPTIONS.MEDIUM?e.pbMg:w===I.GRANULARITY_OPTIONS.HIGH?e.pbHg:w===I.GRANULARITY_OPTIONS.CUSTOM?e.pbCg:void 0}},{key:"hb_size",val:function(e){return e.size}},{key:"hb_deal",val:function(e){return e.dealId}}]}),e[I.JSON_MAPPING.BD_SETTING_STANDARD]}function b(){return m()[I.JSON_MAPPING.ADSERVER_TARGETING]}var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},y=t(2),E=t(58),I=t(3),T=I.EVENTS.AUCTION_END,S=t(2),A=t(8),_="function",O={byAdUnit:[],all:[],oneTime:null,timer:!1},w=I.GRANULARITY_OPTIONS.MEDIUM,U=void 0,C={};n.setCustomPriceBucket=function(e){U=e},n.getTimedOutBidders=function(){return pbjs._bidsRequested.map(i).filter(y.uniques).filter((function(e){return pbjs._bidsReceived.map(o).filter(y.uniques).indexOf(e)<0}))},n.bidsBackAll=function(){return u()},n.addBidResponse=function(e,t){if(!e)return S.logWarn("No adUnitCode supplied to addBidResponse, response discarded"),void 0;if(t){var i=y.getBidderRequest(t.bidderCode,e),o=i.requestId,s=i.start;if(h(t,{requestId:o,responseTimestamp:r(),requestTimestamp:s,cpm:parseFloat(t.cpm)||0,bidder:t.bidderCode,adUnitCode:e}),t.timeToRespond=t.responseTimestamp-t.requestTimestamp,t.timeToRespond>pbjs.cbTimeout+pbjs.timeoutBuffer){var c=!0;n.executeCallback(c)}A.emit(I.EVENTS.BID_ADJUSTMENT,t),A.emit(I.EVENTS.BID_RESPONSE,t);var l=E.getPriceBucketString(t.cpm,U);t.pbLg=l.low,t.pbMg=l.med,t.pbHg=l.high,t.pbAg=l.auto,t.pbDg=l.dense,t.pbCg=l.custom;var p={};t.bidderCode&&(t.cpm>0||t.dealId)&&(p=d(t.bidderCode,t)),t.adserverTargeting=p,pbjs._bidsReceived.push(t)}t&&t.adUnitCode&&a(t.adUnitCode)&&f(t.adUnitCode),u()&&n.executeCallback()},n.getKeyValueTargetingPairs=function(){return d.apply(void 0,arguments)},n.setPriceGranularity=function(e){var n=I.GRANULARITY_OPTIONS;Object.keys(n).filter((function(t){return e===n[t]}))?w=e:(S.logWarn("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default."),w=I.GRANULARITY_OPTIONS.MEDIUM)},n.registerDefaultBidderSetting=function(e,n){C[e]=n},n.executeCallback=function(e){if(!e&&O.timer&&clearTimeout(O.timer),O.all.called!==!0&&(l(O.all),O.all.called=!0,e)){var t=n.getTimedOutBidders();t.length&&A.emit(I.EVENTS.BID_TIMEOUT,t)}if(O.oneTime){A.emit(T);try{l([O.oneTime])}catch(r){S.logError("Error executing bidsBackHandler",null,r)}finally{O.oneTime=null,O.timer=!1,pbjs.clearAuction()}}},n.externalCallbackReset=function(){O.all.called=!1},n.addOneTimeCallback=function(e,n){O.oneTime=e,O.timer=n},n.addCallback=function(e,n,t){n.id=e,I.CB.TYPE.ALL_BIDS_BACK===t?O.all.push(n):I.CB.TYPE.AD_UNIT_BIDS_BACK===t&&O.byAdUnit.push(n)},A.on(I.EVENTS.BID_ADJUSTMENT,(function(e){g(e)})),n.adjustBids=function(){return g.apply(void 0,arguments)},n.getStandardBidderAdServerTargeting=b}),(function(e,n,t){"use strict";function r(e,n){function t(){switch(o){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}var r=n&&n.bidId||i.getUniqueIdentifierStr(),o=e||0;this.bidderCode="",this.width=0,this.height=0,this.statusMessage=t(),this.adId=r,this.getStatusCode=function(){return o},this.getSize=function(){return this.width+"x"+this.height}}var i=t(2);n.createBid=function(){return new(Function.prototype.bind.apply(r,[null].concat(Array.prototype.slice.call(arguments))))}}),(function(e,n,t){"use strict";var r=t(57),i=t(65),o=function(e){this.name=e.adserver,this.code=e.code,this.getWinningBidByCode=function(){return i.getWinningBids(this.code)[0]}};n.dfpAdserver=function(e,n){var t=new o(e);t.urlComponents=n;var i={env:"vp",gdfp_req:"1",impl:"s",unviewed_position_start:"1"},a=["output","iu","sz","url","correlator","description_url","hl"],s=function(e){return encodeURIComponent(r.formatQS(e))};return t.appendQueryParams=function(){var e=t.getWinningBidByCode();e&&(this.urlComponents.search.description_url=encodeURIComponent(e.descriptionUrl),this.urlComponents.search.cust_params=s(e.adserverTargeting),this.urlComponents.search.correlator=Date.now())},t.verifyAdserverTag=function(){for(var e in i)if(!this.urlComponents.search.hasOwnProperty(e)||this.urlComponents.search[e]!==i[e])return!1;for(var n in a)if(!this.urlComponents.search.hasOwnProperty(a[n]))return!1;return!0},t}}),(function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(){var e=p.getWinningBids(),n=o();return e=e.map((function(e){return r({},e.adUnitCode,Object.keys(e.adserverTargeting).filter((function(t){return"undefined"==typeof e.sendStandardTargeting||e.sendStandardTargeting||-1===n.indexOf(t)})).map((function(n){return r({},n.substring(0,20),[e.adserverTargeting[n]])})))}))}function o(){return c.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(l.TARGETING_KEYS).filter(d.uniques)}function a(e){var n=o();return pbjs._bidsReceived.filter(d.adUnitsFilter.bind(this,e)).map((function(e){return e.alwaysUseBid?r({},e.adUnitCode,Object.keys(e.adserverTargeting).map((function(t){return n.indexOf(t)>-1?void 0:r({},t.substring(0,20),[e.adserverTargeting[t]])})).filter((function(e){return e}))):void 0})).filter((function(e){return e}))}function s(e){var n=l.TARGETING_KEYS;return pbjs._bidsReceived.filter(d.adUnitsFilter.bind(this,e)).map((function(e){return e.adserverTargeting?r({},e.adUnitCode,u(e,n.filter((function(n){return"undefined"!=typeof e.adserverTargeting[n]})))):void 0})).filter((function(e){return e}))}function u(e,n){return n.map((function(n){return r({},(n+"_"+e.bidderCode).substring(0,20),[e.adserverTargeting[n]])}))}var d=t(2),c=t(62),f=t(2),l=t(3),p=n,g=[];p.resetPresetTargeting=function(){d.isGptPubadsDefined()&&window.googletag.pubads().getSlots().forEach((function(e){g.forEach((function(n){pbjs.adUnits.find((function(t){(t.code===e.getAdUnitPath()||t.code===e.getSlotElementId())&&e.setTargeting(n,null)}))}))}))},p.getAllTargeting=function(e){var n=e&&e.length?[e]:pbjs._adUnitCodes,t=i(n).concat(a(n)).concat(pbjs._sendAllBids?s(n):[]);return t.map((function(e){Object.keys(e).map((function(n){e[n].map((function(e){-1===g.indexOf(Object.keys(e)[0])&&(g=Object.keys(e).concat(g))}))}))})),t},p.setTargeting=function(e){window.googletag.pubads().getSlots().forEach((function(n){e.filter((function(e){return Object.keys(e)[0]===n.getAdUnitPath()||Object.keys(e)[0]===n.getSlotElementId()})).forEach((function(e){return e[Object.keys(e)[0]].forEach((function(e){e[Object.keys(e)[0]].map((function(t){return f.logMessage("Attempting to set key value for slot: "+n.getSlotElementId()+" key: "+Object.keys(e)[0]+" value: "+t),t})).forEach((function(t){n.setTargeting(Object.keys(e)[0],t)}))}))}))}))},p.getWinningBids=function(e){var n=e?[e]:pbjs._adUnitCodes;return pbjs._bidsReceived.filter((function(e){return n.includes(e.adUnitCode)})).filter((function(e){return e.cpm>0})).map((function(e){return e.adUnitCode})).filter(d.uniques).map((function(e){return pbjs._bidsReceived.filter((function(n){return n.adUnitCode===e?n:null})).reduce(d.getHighestCpm,{adUnitCode:e,cpm:0,adserverTargeting:{},timeToRespond:0})}))},p.setTargetingForAst=function(){var e=pbjs.getAdserverTargeting();Object.keys(e).forEach((function(n){return Object.keys(e[n]).forEach((function(t){if(f.logMessage("Attempting to set targeting for targetId: "+n+" key: "+t+" value: "+e[n][t]),f.isStr(e[n][t])||f.isArray(e[n][t])){var r={},i="hb_adid",o=t.substring(0,i.length)===i?t.toUpperCase():t;r[o]=e[n][t],window.apntag.setKeywords(n,r)}}))}))},p.isApntagDefined=function(){return window.apntag&&f.isFn(window.apntag.setKeywords)?!0:void 0}})]);